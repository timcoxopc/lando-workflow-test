# Ubercart 7 Line Items Migration
id: uc7_order_product
label: Migrate order line items from Ubercart
migration_tags:
  - Drupal 7
  - Ubercart
  - Content
source:
  plugin: uc_order_product
process:
  type:
    plugin: default_value
    default_value: default
  order_item_id: order_product_id
  purchased_entity:
    plugin: migration_lookup
    migration: uc7_product_variation
    source: nid
  title: title
  quantity: qty
  'unit_price/number': price
  'unit_price/currency_code': currency
  'total_price/number': total_price
  'total_price/currency_code': currency
  data: data
  created: created
  changed: modified
  uses_legacy_adjustments:
    plugin: default_value
    default_value: true
  adjustments:
    plugin: commerce_adjustments
    source: adjustments
destination:
  plugin: entity:commerce_order_item
  destination_module: commerce_order
migration_dependencies:
  required:
    - d7_node
